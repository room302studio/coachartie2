# Coach Artie 2 Configuration
# Copy this to .env and fill in your values: cp .env.example .env

# ============================================
# REQUIRED - Get these first or nothing works
# ============================================

# OpenRouter API Key - Get from https://openrouter.ai
OPENROUTER_API_KEY=sk-or-v1-your-key-here
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_MODELS=openai/gpt-4o-mini,openai/gpt-4o,anthropic/claude-3.5-sonnet

# Three-tier model strategy for cost optimization
# Using GPT-4o-mini ($0.15/M) → GPT-4o ($2.50/M) → Claude 3.5 Sonnet ($3/M)
FAST_MODEL=openai/gpt-4o-mini
SMART_MODEL=openai/gpt-4o
MANAGER_MODEL=anthropic/claude-3.5-sonnet

# Discord Bot - Get from https://discord.com/developers/applications
DISCORD_TOKEN=your-discord-bot-token
DISCORD_CLIENT_ID=your-discord-application-id
DISCORD_GUILD_ID=your-test-guild-id-optional

# Guild whitelist - Comma-separated Discord guild IDs to listen to
# Without this, bot will listen to ALL guilds (expensive!)
DISCORD_GUILD_WHITELIST=your-guild-id-here

# Admin Notifications - For system alerts (like low credit warnings)
# Set ADMIN_DISCORD_ID to receive DMs, or ADMIN_CHANNEL_ID to send to a specific channel
ADMIN_DISCORD_ID=your-discord-user-id
ADMIN_CHANNEL_ID=

# Slack Bot - Get from https://api.slack.com/apps
SLACK_BOT_TOKEN=xoxb-your-bot-token-here
SLACK_SIGNING_SECRET=your-signing-secret-here

# Debug - Add instance identifier to bot responses
ENABLE_INSTANCE_DEBUG=false
INSTANCE_NAME=local-dev

# ============================================
# OPTIONAL - Only if you need these features
# ============================================

# Slack Service Configuration (Optional - only if using Slack bot)
# Port for Slack bot service HTTP API (defaults to 3000)
SLACK_PORT=3000
# Port for Slack API server (defaults to 47322)
SLACK_API_PORT=47322
# File paths for Slack data (auto-detected: Docker=/app/data, Local=./packages/capabilities/data)
# SLACK_STATUS_FILE=/app/data/slack-status.json
# SLACK_METRICS_FILE=/app/data/slack-metrics.json
# SLACK_EVENTS_FILE=/app/data/slack-events.json

# SMS (Twilio) - Get from https://twilio.com
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# Embeddings (OpenAI) - Get from https://platform.openai.com
OPENAI_API_KEY=

# Calculations (Wolfram Alpha) - Get from https://developer.wolframalpha.com
WOLFRAM_APP_ID=

# Email (n8n webhook) - Only for email capability
EMAIL_WEBHOOK_URL=
EMAIL_WEBHOOK_AUTH=

# GitHub - For CLI tools (gh) and webhook verification
# Create a Personal Access Token (classic) at https://github.com/settings/tokens
# Required scopes: repo, admin:org, admin:repo_hook, workflow
GITHUB_TOKEN=ghp_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
GITHUB_WEBHOOK_SECRET=

# ============================================
# DEFAULTS - You probably don't need to change these
# ============================================

NODE_ENV=development
LOG_LEVEL=info
DATABASE_PATH=./packages/capabilities/data/coachartie.db
REDIS_HOST=localhost
REDIS_PORT=6379
CAPABILITIES_PORT=47324
HEALTH_PORT=47319

# ============================================
# LEARNING & MEMORY - Coach Artie's Learning System
# ============================================

# Enable automatic reflection after each interaction
# Creates capability-specific memories that improve tool usage over time
# Cost impact: ~$0.002-0.005 per message with GPT-4o-mini
# Recommended: true for learning, false for cost savings
ENABLE_AUTO_REFLECTION=true

# Enable observational learning from "watching" guilds
# Passively learns from conversations without participating
# Set guild type to 'watching' in packages/discord/src/config/guild-whitelist.ts
# Cost impact: ~$0.0002 per batch of 50 messages with GPT-4o-mini
# Recommended: true for multi-server setups where you want to learn from all servers

# Observational learning configuration
# How many messages to fetch per channel (default: 50)
OBSERVATION_MESSAGES_PER_FETCH=50
# How often to process watching guilds in milliseconds (default: 300000 = 5 minutes)
OBSERVATION_INTERVAL_MS=300000
