# Production Environment Configuration
# Deploy this to your VPS

# Logging - CRITICAL for prod stability
NODE_ENV=production
LOG_LEVEL=warn
# Disable debug logging in production
DEBUG=false

# OpenRouter
OPENROUTER_API_KEY=<your_key>
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
OPENROUTER_MODELS=anthropic/claude-3.5-sonnet

# Discord
DISCORD_TOKEN=<your_token>
DISCORD_CLIENT_ID=<your_client_id>
DISCORD_GUILD_ID=<your_guild_id>

# Database - SQLite in production
DATABASE_URL=sqlite:/app/data/coachartie.db
DATABASE_PATH=/app/data/coachartie.db

# Redis - MEMORY LIMITS FOR PROD
REDIS_URL=redis://redis:6379?maxmemory=512mb&maxmemory-policy=allkeys-lru

# Health monitoring
HEALTH_PORT=47319

# Email - Use webhook in production (safer for IP reputation)
EMAIL_WEBHOOK_URL=https://your-n8n-instance.com/webhook/email
EMAIL_WEBHOOK_AUTH=<secure_auth_token>

# Security
# Disable non-production features
MCP_AUTO_INSTALL=false
ALLOW_MCP_INSTALL=false

# Memory & Performance
# Node.js heap limits
NODE_OPTIONS=--max-old-space-size=512 --max-semi-space-size=128

# Scheduling
# Only enable in production (reduces memory in dev)
ENABLE_SCHEDULER=true
SCHEDULER_MAX_JOBS=1000

# Rate limiting
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX_REQUESTS=50

# Graceful shutdown
GRACEFUL_SHUTDOWN_TIMEOUT=30000
